<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Jeu : La cellule et son milieu</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background: #eaf7ff;
    text-align: center;
    padding: 20px;
  }
  #menu, #jeu {
    margin-top: 30px;
  }
  button {
    margin: 10px;
    padding: 10px 20px;
    font-size: 16px;
    cursor: pointer;
  }
  #cellule {
    width: 150px;
    margin: 20px auto;
  }
  .option {
    display: block;
    margin: 10px auto;
    padding: 10px;
    background: #cde;
    border-radius: 8px;
    width: 300px;
    cursor: pointer;
  }
  .option:hover {
    background: #9cf;
  }
  #resultat {
    font-weight: bold;
    margin-top: 20px;
  }
  #score, #niveau {
    font-size: 18px;
    margin: 10px;
  }
</style>
</head>
<body>
<h1>ðŸ§« Jeu : La cellule et son milieu</h1>

<div id="menu">
  <h2>Choisis un niveau :</h2>
  <button onclick="demarrerNiveau(0)">Facile</button>
  <button onclick="demarrerNiveau(1)">Moyen</button>
  <button onclick="demarrerNiveau(2)">Difficile</button>
</div>

<div id="jeu" style="display:none;">
  <p id="niveau"></p>
  <img id="cellule" src="cellule_saine.png" alt="Cellule">
  <div id="question"></div>
  <div id="options"></div>
  <div id="resultat"></div>
  <p id="score">Score : 0</p>
  <button onclick="retourMenu()">Retour au menu</button>
</div>

<script>
// Fonction pour mÃ©langer un tableau
function melanger(array) {
  for (let i = array.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [array[i], array[j]] = [array[j], array[i]];
  }
  return array;
}

// Questions par niveau
const niveaux = [
  {
    nom: "Niveau 1 - Facile",
    questions: [
      { texte: "Lâ€™insuline stimule la cellule Ã â€¦", options: [{reponse:"Capter plus de glucose",correct:true},{reponse:"LibÃ©rer de la sÃ©rotonine",correct:false},{reponse:"Produire des anticorps",correct:false}]},
      { texte: "Quel organite produit lâ€™ATP ?", options: [{reponse:"Mitochondrie",correct:true},{reponse:"Lysosome",correct:false},{reponse:"Appareil de Golgi",correct:false}]},
      { texte: "Lâ€™eau rentre dans la cellule parâ€¦", options: [{reponse:"Osmose",correct:true},{reponse:"Diffusion simple",correct:false},{reponse:"Endocytose",correct:false}]},
      { texte: "Le glucose entre dans la cellule grÃ¢ce Ã â€¦", options: [{reponse:"Transporteurs membranaires",correct:true},{reponse:"Diffusion lipidique",correct:false},{reponse:"Ribosomes",correct:false}]},
      { texte: "Le noyau contientâ€¦", options: [{reponse:"Lâ€™ADN",correct:true},{reponse:"De lâ€™ATP",correct:false},{reponse:"Des mitochondries",correct:false}]},
      { texte: "Les lysosomes servent Ã â€¦", options: [{reponse:"DigÃ©rer les dÃ©chets cellulaires",correct:true},{reponse:"Stocker lâ€™ADN",correct:false},{reponse:"Produire des protÃ©ines",correct:false}]},
      { texte: "Le cytosquelette est responsable deâ€¦", options: [{reponse:"Maintenir la forme de la cellule",correct:true},{reponse:"Produire de lâ€™Ã©nergie",correct:false},{reponse:"Transcrire lâ€™ARN",correct:false}]},
      { texte: "Les hormones se fixent surâ€¦", options: [{reponse:"Les rÃ©cepteurs membranaires",correct:true},{reponse:"Le noyau directement",correct:false},{reponse:"Les mitochondries",correct:false}]},
      { texte: "La diffusion simple concerneâ€¦", options: [{reponse:"Petites molÃ©cules liposolubles",correct:true},{reponse:"Toutes les protÃ©ines",correct:false},{reponse:"Les organites",correct:false}]},
      { texte: "La cellule vÃ©gÃ©tale a un organite en plus qui estâ€¦", options: [{reponse:"La vacuole",correct:true},{reponse:"Les mitochondries",correct:false},{reponse:"Le lysosome",correct:false}]}
    ]
  },
  {
    nom: "Niveau 2 - Moyen",
    questions: [
      { texte: "La dopamine agit surâ€¦", options: [{reponse:"Les rÃ©cepteurs postsynaptiques",correct:true},{reponse:"Le noyau",correct:false},{reponse:"Les ribosomes",correct:false}]},
      { texte: "La phagocytose impliqueâ€¦", options: [{reponse:"Le cytosquelette et les lysosomes",correct:true},{reponse:"Les mitochondries",correct:false},{reponse:"Les ribosomes",correct:false}]},
      { texte: "Quel ion dÃ©clenche la contraction musculaire ?", options: [{reponse:"Calcium",correct:true},{reponse:"Sodium",correct:false},{reponse:"Potassium",correct:false}]},
      { texte: "La communication cellule-cellule se fait viaâ€¦", options: [{reponse:"Signaux chimiques",correct:true},{reponse:"Le cytosquelette",correct:false},{reponse:"Les mitochondries",correct:false}]},
      { texte: "Lâ€™ATP est produit principalement dansâ€¦", options: [{reponse:"La mitochondrie",correct:true},{reponse:"Le rÃ©ticulum endoplasmique",correct:false},{reponse:"Le noyau",correct:false}]},
      { texte: "Les neurotransmetteurs sont stockÃ©s dansâ€¦", options: [{reponse:"Les vÃ©sicules synaptiques",correct:true},{reponse:"Le noyau",correct:false},{reponse:"Les ribosomes",correct:false}]},
      { texte: "La phosphorylation permetâ€¦", options: [{reponse:"Dâ€™activer des protÃ©ines",correct:true},{reponse:"De stocker du glucose",correct:false},{reponse:"De synthÃ©tiser de lâ€™ADN",correct:false}]},
      { texte: "La cellule reÃ§oit un signal hormonal grÃ¢ce Ã â€¦", options: [{reponse:"RÃ©cepteurs spÃ©cifiques",correct:true},{reponse:"ATP",correct:false},{reponse:"La membrane nuclÃ©aire",correct:false}]},
      { texte: "La signalisation intracellulaire impliqueâ€¦", options: [{reponse:"Des cascades enzymatiques",correct:true},{reponse:"Les mitochondries seules",correct:false},{reponse:"Le cytosol sans rÃ©cepteurs",correct:false}]},
      { texte: "Les rÃ©cepteurs membranaires peuvent Ãªtreâ€¦", options: [{reponse:"Ionotropes ou mÃ©tabotropes",correct:true},{reponse:"Seulement nuclÃ©aires",correct:false},{reponse:"Seulement cytosoliques",correct:false}]}
    ]
  },
  {
    nom: "Niveau 3 - Difficile",
    questions: [
      { texte: "La phagocytose est activÃ©e parâ€¦", options: [{reponse:"La reconnaissance du pathogÃ¨ne",correct:true},{reponse:"Lâ€™ATP uniquement",correct:false},{reponse:"La transcription de lâ€™ARN",correct:false}]},
      { texte: "Le rÃ©cepteur tyrosine kinase dÃ©clencheâ€¦", options: [{reponse:"Une cascade de phosphorylation",correct:true},{reponse:"Lâ€™ouverture des lysosomes",correct:false},{reponse:"La production de ribosomes",correct:false}]},
      { texte: "La voie MAPK est impliquÃ©e dansâ€¦", options: [{reponse:"La prolifÃ©ration cellulaire",correct:true},{reponse:"La digestion lysosomale",correct:false},{reponse:"La synthÃ¨se dâ€™ATP",correct:false}]},
      { texte: "Les jonctions serrÃ©es servent Ã â€¦", options: [{reponse:"Former une barriÃ¨re entre les cellules",correct:true},{reponse:"Transporter lâ€™ADN",correct:false},{reponse:"Stocker le calcium",correct:false}]},
      { texte: "La cellule dÃ©tecte le stress oxydatif viaâ€¦", options: [{reponse:"Les capteurs sensoriels intracellulaires",correct:true},{reponse:"Les ribosomes",correct:false},{reponse:"Le noyau seul",correct:false}]},
      { texte: "Lâ€™endocytose dÃ©pend deâ€¦", options: [{reponse:"La membrane plasmique et le cytosquelette",correct:true},{reponse:"Les mitochondries seules",correct:false},{reponse:"Le rÃ©ticulum endoplasmique",correct:false}]},
      { texte: "Le calcium intracellulaire est un second messager pourâ€¦", options: [{reponse:"La signalisation cellulaire",correct:true},{reponse:"La synthÃ¨se de lâ€™ADN seulement",correct:false},{reponse:"Le transport des mitochondries",correct:false}]},
      { texte: "Les protÃ©ines G sont activÃ©es parâ€¦", options: [{reponse:"Les rÃ©cepteurs membranaires",correct:true},{reponse:"Le cytosol seul",correct:false},{reponse:"Lâ€™ADN",correct:false}]},
      { texte: "La protÃ©ine p53 intervient dansâ€¦", options: [{reponse:"La rÃ©paration de lâ€™ADN et lâ€™apoptose",correct:true},{reponse:"La production de ribosomes",correct:false},{reponse:"Le transport membranaire",correct:false}]},
      { texte: "La cellule rÃ©pond aux cytokines grÃ¢ce Ã â€¦", options: [{reponse:"Des rÃ©cepteurs spÃ©cifiques",correct:true},{reponse:"Les lysosomes",correct:false},{reponse:"Le cytosquelette uniquement",correct:false}]}
    ]
  }
];

let niveauIndex = 0;
let questionIndex = 0;
let score = 0;
let vies = 3;

function demarrerNiveau(index) {
  niveauIndex = index;
  questionIndex = 0;
  score = 0;
  vies = 3;
  document.getElementById("menu").style.display = "none";
  document.getElementById("jeu").style.display = "block";
  document.getElementById("cellule").src = "cellule_saine.png";
  afficherQuestion();
}

function retourMenu() {
  document.getElementById("menu").style.display = "block";
  document.getElementById("jeu").style.display = "none";
}

function afficherQuestion() {
  const niveau = niveaux[niveauIndex];
  if (!niveau) return;

  if (questionIndex >= niveau.questions.length) {
    document.getElementById("question").innerText = "ðŸŽ‰ SÃ©rie terminÃ©e ! Ton score : " + score;
    document.getElementById("options").innerHTML = "";
    return;
  }

  document.getElementById("niveau").innerText = niveau.nom;
  const q = niveau.questions[questionIndex];
  document.getElementById("question").innerText = q.texte;
  document.getElementById("options").innerHTML = "";

  const optionsMelangees = melanger([...q.options]);
  optionsMelangees.forEach(opt => {
    const bouton = document.createElement("div");
    bouton.className = "option";
    bouton.innerText = opt.reponse;
    bouton.onclick = () => verifier(opt.correct);
    document.getElementById("options").appendChild(bouton);
  });
}

function verifier(correct) {
  if (correct) {
    score++;
    document.getElementById("resultat").innerText = "âœ… Bonne rÃ©ponse !";
  } else {
    vies--;
    document.getElementById("resultat").innerText = "âŒ Mauvaise rÃ©ponse...";
    if(vies === 2){
      document.getElementById("cellule").src = "cellule_abimee.png";
    } else if(vies === 1){
      document.getElementById("cellule").src = "cellule_tres_abimee.png";
    } else if(vies === 0){
      document.getElementById("cellule").src = "cellule_morte.png";
      document.getElementById("question").innerText = "ðŸ’€ La cellule est morte. Tu as perdu.";
      document.getElementById("options").innerHTML = "";
      return;
    }
  }
  document.getElementById("score").innerText = "Score : " + score;
  questionIndex++;
  setTimeout(() => {
    document.getElementById("resultat").innerText = "";
    afficherQuestion();
  }, 1000);
}
</script>
</body>
</html>
