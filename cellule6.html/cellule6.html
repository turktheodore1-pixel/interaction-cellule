<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Jeu : La cellule et son milieu</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background: #eaf7ff;
    text-align: center;
    padding: 20px;
  }
  #menu, #jeu {
    margin-top: 30px;
  }
  button {
    margin: 10px;
    padding: 10px 20px;
    font-size: 16px;
    cursor: pointer;
  }
  #cellule {
    width: 150px;
    margin: 20px auto;
  }
  .option {
    display: block;
    margin: 10px auto;
    padding: 10px;
    background: #cde;
    border-radius: 8px;
    width: 300px;
    cursor: pointer;
  }
  .option:hover {
    background: #9cf;
  }
  #resultat {
    font-weight: bold;
    margin-top: 20px;
  }
  #score, #niveau {
    font-size: 18px;
    margin: 10px;
  }
</style>
</head>
<body>
<h1>üß´ Jeu : La cellule et son milieu</h1>

<div id="menu">
  <h2>Choisis un niveau :</h2>
  <button onclick="demarrerNiveau(0)">Facile</button>
  <button onclick="demarrerNiveau(1)">Moyen</button>
  <button onclick="demarrerNiveau(2)">Difficile</button>
</div>

<div id="jeu" style="display:none;">
  <p id="niveau"></p>
  <img id="cellule" src="cellule_saine.png" alt="Cellule">
  <div id="question"></div>
  <div id="options"></div>
  <div id="resultat"></div>
  <p id="score">Score : 0</p>
  <button onclick="retourMenu()">Retour au menu</button>
</div>

<script>
// Fonction pour m√©langer un tableau
function melanger(array) {
  for (let i = array.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [array[i], array[j]] = [array[j], array[i]];
  }
  return array;
}

// Questions par niveau
const niveaux = [
  {
    nom: "Niveau 1 - Facile",
    questions: [
      { texte: "L‚Äôinsuline stimule la cellule √†‚Ä¶", options: [{reponse:"Capter plus de glucose",correct:true},{reponse:"Lib√©rer de la s√©rotonine",correct:false},{reponse:"Produire des anticorps",correct:false}]},
      { texte: "Quel organite produit l‚ÄôATP ?", options: [{reponse:"Mitochondrie",correct:true},{reponse:"Lysosome",correct:false},{reponse:"Appareil de Golgi",correct:false}]},
      { texte: "L‚Äôeau rentre dans la cellule par‚Ä¶", options: [{reponse:"Osmose",correct:true},{reponse:"Diffusion simple",correct:false},{reponse:"Endocytose",correct:false}]},
      { texte: "Le glucose entre dans la cellule gr√¢ce √†‚Ä¶", options: [{reponse:"Transporteurs membranaires",correct:true},{reponse:"Diffusion lipidique",correct:false},{reponse:"Ribosomes",correct:false}]},
      { texte: "Le noyau contient‚Ä¶", options: [{reponse:"L‚ÄôADN",correct:true},{reponse:"De l‚ÄôATP",correct:false},{reponse:"Des mitochondries",correct:false}]},
      { texte: "Les lysosomes servent √†‚Ä¶", options: [{reponse:"Dig√©rer les d√©chets cellulaires",correct:true},{reponse:"Stocker l‚ÄôADN",correct:false},{reponse:"Produire des prot√©ines",correct:false}]},
      { texte: "Le cytosquelette est responsable de‚Ä¶", options: [{reponse:"Maintenir la forme de la cellule",correct:true},{reponse:"Produire de l‚Äô√©nergie",correct:false},{reponse:"Transcrire l‚ÄôARN",correct:false}]},
      { texte: "Les hormones se fixent sur‚Ä¶", options: [{reponse:"Les r√©cepteurs membranaires",correct:true},{reponse:"Le noyau directement",correct:false},{reponse:"Les mitochondries",correct:false}]},
      { texte: "La diffusion simple concerne‚Ä¶", options: [{reponse:"Petites mol√©cules liposolubles",correct:true},{reponse:"Toutes les prot√©ines",correct:false},{reponse:"Les organites",correct:false}]},
      { texte: "La cellule v√©g√©tale a un organite en plus qui est‚Ä¶", options: [{reponse:"La vacuole",correct:true},{reponse:"Les mitochondries",correct:false},{reponse:"Le lysosome",correct:false}]}
    ]
  },
  {
    nom: "Niveau 2 - Moyen",
    questions: [
      { texte: "La dopamine agit sur‚Ä¶", options: [{reponse:"Les r√©cepteurs postsynaptiques",correct:true},{reponse:"Le noyau",correct:false},{reponse:"Les ribosomes",correct:false}]},
      { texte: "La phagocytose implique‚Ä¶", options: [{reponse:"Le cytosquelette et les lysosomes",correct:true},{reponse:"Les mitochondries",correct:false},{reponse:"Les ribosomes",correct:false}]},
      { texte: "Quel ion d√©clenche la contraction musculaire ?", options: [{reponse:"Calcium",correct:true},{reponse:"Sodium",correct:false},{reponse:"Potassium",correct:false}]},
      { texte: "La communication cellule-cellule se fait via‚Ä¶", options: [{reponse:"Signaux chimiques",correct:true},{reponse:"Le cytosquelette",correct:false},{reponse:"Les mitochondries",correct:false}]},
      { texte: "L‚ÄôATP est produit principalement dans‚Ä¶", options: [{reponse:"La mitochondrie",correct:true},{reponse:"Le r√©ticulum endoplasmique",correct:false},{reponse:"Le noyau",correct:false}]},
      { texte: "Les neurotransmetteurs sont stock√©s dans‚Ä¶", options: [{reponse:"Les v√©sicules synaptiques",correct:true},{reponse:"Le noyau",correct:false},{reponse:"Les ribosomes",correct:false}]},
      { texte: "La phosphorylation permet‚Ä¶", options: [{reponse:"D‚Äôactiver des prot√©ines",correct:true},{reponse:"De stocker du glucose",correct:false},{reponse:"De synth√©tiser de l‚ÄôADN",correct:false}]},
      { texte: "La cellule re√ßoit un signal hormonal gr√¢ce √†‚Ä¶", options: [{reponse:"R√©cepteurs sp√©cifiques",correct:true},{reponse:"ATP",correct:false},{reponse:"La membrane nucl√©aire",correct:false}]},
      { texte: "La signalisation intracellulaire implique‚Ä¶", options: [{reponse:"Des cascades enzymatiques",correct:true},{reponse:"Les mitochondries seules",correct:false},{reponse:"Le cytosol sans r√©cepteurs",correct:false}]},
      { texte: "Les r√©cepteurs membranaires peuvent √™tre‚Ä¶", options: [{reponse:"Ionotropes ou m√©tabotropes",correct:true},{reponse:"Seulement nucl√©aires",correct:false},{reponse:"Seulement cytosoliques",correct:false}]}
    ]
  },
  {
    nom: "Niveau 3 - Difficile",
    questions: [
      { texte: "La phagocytose est activ√©e par‚Ä¶", options: [{reponse:"La reconnaissance du pathog√®ne",correct:true},{reponse:"L‚ÄôATP uniquement",correct:false},{reponse:"La transcription de l‚ÄôARN",correct:false}]},
      { texte: "Le r√©cepteur tyrosine kinase d√©clenche‚Ä¶", options: [{reponse:"Une cascade de phosphorylation",correct:true},{reponse:"L‚Äôouverture des lysosomes",correct:false},{reponse:"La production de ribosomes",correct:false}]},
      { texte: "La voie MAPK est impliqu√©e dans‚Ä¶", options: [{reponse:"La prolif√©ration cellulaire",correct:true},{reponse:"La digestion lysosomale",correct:false},{reponse:"La synth√®se d‚ÄôATP",correct:false}]},
      { texte: "Les jonctions serr√©es servent √†‚Ä¶", options: [{reponse:"Former une barri√®re entre les cellules",correct:true},{reponse:"Transporter l‚ÄôADN",correct:false},{reponse:"Stocker le calcium",correct:false}]},
      { texte: "La cellule d√©tecte le stress oxydatif via‚Ä¶", options: [{reponse:"Les capteurs sensoriels intracellulaires",correct:true},{reponse:"Les ribosomes",correct:false},{reponse:"Le noyau seul",correct:false}]},
      { texte: "L‚Äôendocytose d√©pend de‚Ä¶", options: [{reponse:"La membrane plasmique et le cytosquelette",correct:true},{reponse:"Les mitochondries seules",correct:false},{reponse:"Le r√©ticulum endoplasmique",correct:false}]},
      { texte: "Le calcium intracellulaire est un second messager pour‚Ä¶", options: [{reponse:"La signalisation cellulaire",correct:true},{reponse:"La synth√®se de l‚ÄôADN seulement",correct:false},{reponse:"Le transport des mitochondries",correct:false}]},
      { texte: "Les prot√©ines G sont activ√©es par‚Ä¶", options: [{reponse:"Les r√©cepteurs membranaires",correct:true},{reponse:"Le cytosol seul",correct:false},{reponse:"L‚ÄôADN",correct:false}]},
      { texte: "La prot√©ine p53 intervient dans‚Ä¶", options: [{reponse:"La r√©paration de l‚ÄôADN et l‚Äôapoptose",correct:true},{reponse:"La production de ribosomes",correct:false},{reponse:"Le transport membranaire",correct:false}]},
      { texte: "La cellule r√©pond aux cytokines gr√¢ce √†‚Ä¶", options: [{reponse:"Des r√©cepteurs sp√©cifiques",correct:true},{reponse:"Les lysosomes",correct:false},{reponse:"Le cytosquelette uniquement",correct:false}]}
    ]
  }
];

let niveauIndex = 0;
let questionIndex = 0;
let score = 0;
let vies = 3;

function demarrerNiveau(index) {
  niveauIndex = index;
  questionIndex = 0;
  score = 0;
  vies = 3;
  document.getElementById("menu").style.display = "none";
  document.getElementById("jeu").style.display = "block";
  document.getElementById("cellule").src = "cellule_saine.png";
  afficherQuestion();
}

function retourMenu() {
  document.getElementById("menu").style.display = "block";
  document.getElementById("jeu").style.display = "none";
}

function afficherQuestion() {
  const niveau = niveaux[niveauIndex];
  if (!niveau) return;

  if (questionIndex >= niveau.questions.length) {
    document.getElementById("question").innerText = "üéâ S√©rie termin√©e ! Ton score : " + score;
    document.getElementById("options").innerHTML = "";
    return;
  }

  document.getElementById("niveau").innerText = niveau.nom;
  const q = niveau.questions[questionIndex];
  document.getElementById("question").innerText = q.texte;
  document.getElementById("options").innerHTML = "";

  const optionsMelangees = melanger([...q.options]);
  optionsMelangees.forEach(opt => {
    const bouton = document.createElement("div");
    bouton.className = "option";
    bouton.innerText = opt.reponse;
    bouton.onclick = () => verifier(opt.correct);
    document.getElementById("options").appendChild(bouton);
  });
}

function verifier(correct) {
  if (correct) {
    score++;
    document.getElementById("resultat").innerText = "‚úÖ Bonne r√©ponse !";
  } else {
    vies--;
    document.getElementById("resultat").innerText = "‚ùå Mauvaise r√©ponse...";
    if(vies === 2){
      document.getElementById("cellule").src = "cellule_abimee.png";
    } else if(vies === 1){
      document.getElementById("cellule").src = "cellule_tres_abimee.png";
    } else if(vies === 0){
      document.getElementById("cellule").src = "cellule_morte.png";
      document.getElementById("question").innerText = "üíÄ La cellule est morte. Tu as perdu.";
      document.getElementById("options").innerHTML = "";
      return;
    }
  }
  document.getElementById("score").innerText = "Score : " + score;
  questionIndex++;
  setTimeout(() => {
    document.getElementById("resultat").innerText = "";
    afficherQuestion();
  }, 1000);
}
</script>
</body>
</html>
